# 数据库恢复技术

## 事务的基本概念

### 事务

> 事务时用户定义的一个数据库操作序列，这些操作，要么全做，要么全不做，是一个不可分割的工作单位。

#### 事物的ACID特性

* 原子性：要么全做，要么全不做
* 一致性：事务执行的结果必须是使数据库从一个一执行的结果变到另一个一致性状态
* 隔离性：并发执行的事务之间不能互相干扰
* 持续性：一个事务一旦提交，对数据库中数据的改变就是永久的



## 数据库的恢复概述

> 把数据库从一个错误的状态恢复到某一个已知的正确的状态的功能，就叫数据库的恢复



## 故障的种类

* 事务内部的故障-undo撤销
* 系统故障-redo重做
* 介质故障
* 计算机病毒



## 恢复的实现技术

### 数据转储

> 数据转储是数据库恢复中采用的基础技术，所谓转储就是数据库管理员定期将整个数据库复制到磁盘保存起来，这些备用的数据叫做后援副本或后备副本。

### 登记日志文件

两条原则：

* 登记的次序严格按照并发事务执行的时间次序
* 必须先写日志文件，再写数据库



## 恢复策略



## 具有检查点的恢复技术



## 数据库镜像

> 介质故障是对系统映像最为严重的一种故障























